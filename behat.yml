default:
  formatters:
    progress:
        decorated:           true
        verbose:             true
        time:                true
        language:            fr
        output_path:         null
        multiline_arguments: true

  suites:
    default:
      paths:
        - '%paths.base%/features/suites'
      contexts:
        - FeatureContext
        - ETNA\FeatureContext\RabbitContext
        - ETNA\FeatureContext\ApiContext
        - ETNA\FeatureContext\TimeProfilerContext:
            max_time: 300
        - ETNA\FeatureContext\ExceptionContainerContext
        - ETNA\FeatureContext\SymfonyTestKernelContext:
            bundles:
              - '\ETNA\Utils\UtilsBundle'
  extensions:
    Behat\Symfony2Extension:
      kernel:
        class: TestApp\Kernel
        bootstrap: TestApp/bootstrap.php
        env:   testing

ci:
  suites:
    default:
      paths:
        - '%paths.base%/features/suites'
      contexts:
        - ETNA\FeatureContext\CoverageContext:
            coverage_path: /tmp/behat/coverage
            whitelist:
                - src
            blacklist:
                - vendor
                - bin
                - tmp
                - Tests
        - FeatureContext
        - ETNA\FeatureContext\RabbitContext
        - ETNA\FeatureContext\ApiContext
        - ETNA\FeatureContext\TimeProfilerContext:
            max_time: 300
        - ETNA\FeatureContext\ExceptionContainerContext
        - ETNA\FeatureContext\SymfonyTestKernelContext:
            bundles:
              - '\ETNA\Utils\UtilsBundle'

  extensions:
    Behat\Symfony2Extension:
      kernel:
        class: TestApp\Kernel
        bootstrap: TestApp/bootstrap.php
        env:   testing
